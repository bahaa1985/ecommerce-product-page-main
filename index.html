<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  
  <title>Frontend Mentor | E-commerce product page</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet ðŸ‘ -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@400;700&display=swap" rel="stylesheet">
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>
</head>
<body class="w-full mx-auto h-auto bg-white font-[Kumbh_Sans] mix-blend-darken">

  <navbar class="absolute top-0 left-1/2  -translate-x-1/2 w-[80%] h-fit flex justify-between items-center mix-blend-darken  px-2 md:px-0  mx-auto my-0 md:my-4 md:border-b border-slate-300">
    <!--  -->
    <div class="w-[60%] h-20 flex justify-start md justify-between items-center gap-4">
      <div class="flex justify-center items-center block md:hidden">
        <img id="openMenu" class="size-4" src="./images//icon-menu.svg" alt="Menu Icon"/>
      </div>
      <div class="h-full flex justify-center items-center text-3xl md:text-2xl font-[700] text-[#1a1e26] border-b-4 border-transparent">
        sneakers
      </div>
      <div class="hidden w-auto h-full md:block ml-8">
        <ul class="w-full h-full flex justify-around items-center gap-4 decoration-none text-slate-500 text-[16px]">
          <li class="w-[20%] h-full flex justify-center items-center box-border  border-b-4 border-transparent hover:border-orange-500 hover:text-slate-700 cursor-pointer">Collections</li>
          <li class="w-[20%] h-full flex justify-center items-center box-border  border-b-4 border-transparent hover:border-orange-500 hover:text-slate-700 cursor-pointer">Men</li>
          <li class="w-[20%] h-full flex justify-center items-center box-border  border-b-4 border-transparent hover:border-orange-500 hover:text-slate-700 cursor-pointer">Women</li>
          <li class="w-[20%] h-full flex justify-center items-center box-border  border-b-4 border-transparent hover:border-orange-500 hover:text-slate-700 cursor-pointer">About</li>
          <li class="w-[20%] h-full flex justify-center items-center box-border  border-b-4 border-transparent hover:border-orange-500 hover:text-slate-700 cursor-pointer">Contact</li>
        </ul>
      </div>
    </div>
    <!-- cart and user -->
    <div class="relative flex justify-between items-center space-x-4">
      <span id="itemsQuantity" class="hidden absolute top-0 left-1 flex justify-center items-center w-5 h-4 bg-orange-500 text-slate-50 text-sm rounded-lg">3</span>
      <img id="cartIcon" class="size-5 cursor-pointer" src="./images/icon-cart.svg" alt="Cart Icon"/>
      <img class="size-10 rounded-full hover:border-2 border-orange-500 cursor-pointer" src="./images/image-avatar.png" alt="Avatar Icon"/>
    </div>
  </navbar>

  <!--  -->
  <section id="mainSection" class="w-full md:w-[80%] lg:w-[70%] mx-auto flex flex-col md:flex-row justify-between items-start  mix-blend-darken gap-6 lg:gap-8 my-0 md:my-36">
    <div class="w-full md:w-[45%] m-auto over-flow-hidden">
      <!-- <img id="prevImg" class="block sm:hidden absolute w-full top-0 -left-[100%] border border-solid border-black"  /> -->
      <img id="mainImage" class="w-full h-auto md:w-full lg:size-[400px] mx-auto md:rounded-lg" alt="Sneaker Image"/>
      <!-- <img id="nextImg" class="block sm:hidden absolute w-full top-0 left-[100%] border border-solid border-black"  /> -->
      <!-- carousel -->
      <div class="w-full absolute md:hidden top-1/2 -translate-y-1/2 flex justify-between items-center px-4">
        <div class="flex justify-center items-center size-8 rounded-full bg-white p-2">
          <img id="previous" class="size-2 mx-auto cursor-pointer" src="./images/icon-previous.svg" alt="Previous Icon"/>
        </div>
        <div class="flex justify-center items-center size-8 rounded-full bg-white p-2">
          <img id="next" class="size-2 mx-auto cursor-pointer" src="./images/icon-next.svg" alt="Next Icon"/>
        </div>
      </div>
      <!-- thumbnails -->
      <div id="thumbnails" class="w-[90%] flex justify-between items-center mx-auto mt-4">
        <div class="hidden md:block w-full md:size-16 lg:size-20 rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500">
          <img class="w-full h-auto rounded-lg hover:opacity-25 cursor-pointer" src="./images/image-product-1-thumbnail.jpg" alt="Sneaker Image"/>
        </div>
        <div class="hidden md:block w-full md:size-16 lg:size-20 rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500">
          <img class="w-full h-auto rounded-lg hover:opacity-25 cursor-pointer" src="./images/image-product-2-thumbnail.jpg" alt="Sneaker Image"/>
        </div>
        <div class="hidden md:block w-full md:size-16 lg:size-20 rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500">
          <img class="w-full h-auto rounded-lg hover:opacity-25 cursor-pointer" src="./images/image-product-3-thumbnail.jpg" alt="Sneaker Image"/>
        </div>
        <div class="hidden md:block w-full md:size-16 lg:size-20 rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500">
          <img class="w-full h-auto rounded-lg hover:opacity-25 cursor-pointer" src="./images/image-product-4-thumbnail.jpg" alt="Sneaker Image"/>
        </div>
      </div>
    </div>
    <!-- info -->
    <div class="w-full md:w-[45%] flex flex-col justify-start items-start gap-4 my-auto px-4">
      <p class="text-left text-lg text-slate-600">SNEAKERS COMPANY</p>
      <h1 class="text-[#1a1e26] text-4xl font-bold">Fall Limited Edition Sneakers</h1>
      <p class="text-slate-500 text-[16px]">
These low-profile sneakers are your perfect casual wear companion. Featuring a 
  durable rubber outer sole, theyâ€™ll withstand everything the weather can offer.
      </p>
      <div class="w-full flex flex-row md:flex-col justify-between md:items-start items-center font-[400]">
        <div class="flex justify-start items-center gap-4">
          <span class="text-[#1a1e26] text-2xl">$125.00</span>
          <span class="text-slate-50 bg-slate-900 rounded-lg py-1 px-4 text-sm">50%</span>
        </div>
        <div class="text-sm text-slate-600 line-through">$250.00</div>
      </div>
      <!--  -->
      <div class="w-full flex flex-col md:flex-row justify-start items-center gap-4">
        <div class="w-full flex flex-row md:w-[35%]">
          <span id="decrease" class="w-1/3 flex justify-center items-center p-3 bg-slate-100 text-orange-500 rounded-l-lg cursor-pointer text-2xl font-bold hover:text-orange-300">-</span>
          <span id="quantity" class="w-1/3 flex justify-center items-center p-3 bg-slate-100 font-bold00 text-black font-bold">0</span>
          <span id="increase" class="w-1/3 flex justify-center items-center p-3 bg-slate-100 text-orange-500 rounded-r-lg cursor-pointer text-2xl font-bold hover:text-orange-300">+</span>
        </div>
        <button id="addToCart" class="w-full md:w-[55%] p-3 flex justify-center gap-2 items-center bg-orange-500 rounded-lg cursor-pointer font-bold hover:bg-orange-300">
            <img class="w-4 h-4 stroke-black" src="./images/icon-cart.svg" alt="Cart Icon"/> Add to cart
        </button>
      </div>
    </div>
  </section>
  <!-- cart -->
  <div id="cart" class="hidden absolute top-24 sm:top-20 left-[50%] sm:left-[80%] -translate-x-[50%] xs:-translate-x-[30%] sm:-translate-x-[80%] md:-translate-x-[50%] w-[95%] sm:w-80 flex flex-col  bg-white rounded-lg shadow-lg">
    <div class="flex justify-start items-center px-4 py-4 border-b border-slate-300 font-bold">Cart</div>
    <div class="my-4">
      <div id="cartItems" class="flex flex-col justify-between items-center p-4">
        Empty cart
      </div>
    </div>
    
  </div>
    <!-- sidebar -->
     <div id="sidebar" class="hidden absolute top-0 left-0 w-1/2 h-screen fixed inset-0 bg-white shadow-lg z-50">
      <div class="flex justify-between items-center p-4 ">
        <img id="closeMenu" class="size-4 cursor-pointer" src="./images/icon-close.svg" alt="Close Icon"/>
      </div>
      <ul class="p-4 space-y-4 font-bold">
        <li>Collections</li>
        <li>Men</li>
        <li>Women</li>
        <li>About</li>
        <li>Contact</li>
     </div>

     <!-- dark overlay -->
      <div id="overlay" class="hidden absolute top-0 left-0 w-full h-full fixed inset-0 bg-black opacity-75 z-40"></div>

      <!-- lightbox -->
       <div id="lightbox" class="w-1/2 2xl:w-4/12 h-3/4 flex flex-col justify-center items-center hidden absolute top-1/2  left-1/2 -translate-x-1/2 -translate-y-1/2 inset-0 z-50">
          <img id="closeIcon" class="size-6 cursor-pointer" src="./images/icon-close.svg" alt="Close Icon"/>
          <img id="lightImg" class="w-full h-full rounded-lg" src="./images/image-product-1.jpg" />
          <div id="lightbox-thumbnails" class="w-full xl:w-[80%] flex justify-between items-center mt-4">
        
              <img class="w-full md:w-20 xl:w-24 h-auto rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500 cursor-pointer" src="./images/image-product-1-thumbnail.jpg" alt="Sneaker Image"/>
         
              <img class="w-full md:w-20 xl:w-24 h-auto rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500 cursor-pointer" src="./images/image-product-2-thumbnail.jpg" alt="Sneaker Image"/>
           
              <img class="w-full md:w-20 xl:w-24 h-auto rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500 cursor-pointer" src="./images/image-product-3-thumbnail.jpg" alt="Sneaker Image"/>
          
              <img class="w-full md:w-20 xl:w-24 h-auto rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500 cursor-pointer" src="./images/image-product-4-thumbnail.jpg" alt="Sneaker Image"/>
        </div>
       </div>

  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Your Name Here</a>.
  </div>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const navbar = document.getElementsByTagName('navbar')[0];
      const section = document.getElementById('mainSection');
      const cartIcon = document.getElementById('cartIcon');
      const cart = document.getElementById('cart');
      const sidebar = document.getElementById('sidebar');
      const openMenu = document.getElementById('openMenu');
      const closeMenu = document.getElementById('closeMenu');
      const overlay = document.getElementById('overlay');
      const mainImage = document.getElementById('mainImage');
      const prevImg = document.getElementById('prevImg');
      const nextImg = document.getElementById('nextImg');
      const prev = document.getElementById('previous');
      const next = document.getElementById('next');
      const imgsSrc = [
        './images/image-product-1.jpg',
        './images/image-product-2.jpg',
        './images/image-product-3.jpg',
        './images/image-product-4.jpg'
      ];
      const images = document.querySelectorAll('#thumbnails img');
      const lightBoxImgs = document.querySelectorAll('#lightbox-thumbnails img');

      console.log("lightBoxImgs", lightBoxImgs);
      
      //
      // Set initial image source
      mainImage.src = imgsSrc[0];
      
      // Toggle cart visibility
      cartIcon.addEventListener('click', () => {
        cart.classList.toggle('hidden');
      });

      // Toggle sidebar visibility
      openMenu.addEventListener('click', () => {
        sidebar.classList.toggle('hidden');
        document.getElementsByTagName('body')[0].classList.toggle('bg-salte-600')
        overlay.classList.toggle('hidden');
        // GSAP animation for sidebar
        gsap.fromTo(sidebar, { x: '-100%' }, { x: '0', duration: 0.8, ease: 'power2.out' });
      });

      closeMenu.addEventListener('click', () => {
        sidebar.classList.toggle('hidden');
        document.getElementsByTagName('body')[0].classList.toggle('bg-salte-600')
        overlay.classList.add('hidden');
      });

      //toggle lightbox visibility 
      images.forEach(image => {
        image.addEventListener('click', () => {          
          document.getElementById('lightImg').src = image.src;
          document.getElementById('lightbox').classList.remove('hidden');
          overlay.classList.remove('hidden');
        });
      });

      // Set main image source on thumbnail click
       lightBoxImgs.forEach((image, index) => {
        image.addEventListener('click', () => {
          // mainImage.src = imgsSrc[index];
          // Update lightbox image source
          document.getElementById('lightImg').src = imgsSrc[index];
        });
      });

      //close lightbox
      document.getElementById('closeIcon').addEventListener('click', () => {
        document.getElementById('lightbox').classList.add('hidden');
        overlay.classList.add('hidden');
      });
     

      let currentIndex = 0;
      
      //initial image load
      mainImage.src = imgsSrc[currentIndex];        
      
      previous.addEventListener('click', () => {
        currentIndex = (currentIndex - 1 + imgsSrc.length) % imgsSrc.length;
        mainImage.src = imgsSrc[currentIndex]; 
      });
      next.addEventListener('click', () => {
        currentIndex = (currentIndex + 1) % imgsSrc.length;
        mainImage.src = imgsSrc[currentIndex]; 
      });
       
      // set qunatity functionality
      let quantity = 0;
      document.getElementById('increase').addEventListener('click', () => {
          quantity++;
           document.getElementById('quantity').innerText = quantity;
        })
       document.getElementById('decrease').addEventListener('click', () => {
        if (quantity > 0) {
          quantity--;
           document.getElementById('quantity').innerText = quantity;
        }
      });
     
      // empty cart functionality
     function emptyCart() {
        const cartItems = document.getElementById('cartItems');
        cartItems.innerHTML = 'Empty Cart';
        document.getElementById('itemsQuantity').classList.add('hidden');
        // document.querySelector('button').disabled = true;
      }

      // set add to cart functionality
      document.querySelector('#addToCart').addEventListener('click', () => {
        if (quantity > 0) {
          const cartItems = document.getElementById('cartItems');
          cartItems.innerHTML = `
            <div class="flex justify-between items-center p-4">
              <img class="size-12" src="./images/image-product-1-thumbnail.jpg" alt="Sneaker Thumbnail"/>
              <div class="flex flex-col justify-start items-start">
                <span class="text-slate-600 text-sm">Fall Limited Edition Sneakers</span>
                <span class="text-slate-600">$125.00 x ${quantity} <span class="text-slate-900 font-bold">$${125 * quantity}.00</span></span>
              </div>
              <img id="deleteCartItem" class="w-4 h-6 cursor-pointer" src="./images/icon-delete.svg" alt="Delete Icon"/>
            </div>
            <button id="checkout" class="w-[90%] mx-auto flex justify-center items-center bg-orange-500 rounded-lg p-3 my-4 font-bold cursor-pointer">Checkout</button>
          `;
          document.getElementById('itemsQuantity').innerText = quantity;
          document.getElementById('itemsQuantity').classList.remove('hidden');
          cart.classList.remove('hidden');
          // delete cart item functionality

    document.getElementById('deleteCartItem').addEventListener('click',emptyCart);
    document.getElementById('checkout').addEventListener('click',emptyCart);
        }
      });

      

    });

    
  </script>
</body>
</html>