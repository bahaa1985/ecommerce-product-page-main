<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  
  <title>Frontend Mentor | E-commerce product page</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet ðŸ‘ -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@400;700&display=swap" rel="stylesheet">
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>
</head>
<body class="w-full md:w-[80%] mx-auto bg-white font-[Kumbh_Sans] mix-blend-darken">

  <navbar class="w-full flex justify-between items-center mix-blend-darken  px-2 md:px-0 py-6 mx-auto my-0 md:my-4 md:border-b border-[hsl(220, 14%, 75%)]">
    <!--  -->
    <div class="w-[60%] flex justify-start md justify-between items-center gap-4">
      <div class="flex justify-center items-center block md:hidden">
        <img id="menuIcon" class="size-4" src="./images//icon-menu.svg" alt="Menu Icon"/>
      </div>
      <div class="flex justify-center items-center text-3xl md:text-2xl font-[700] text-[#1a1e26]">
        sneakers
      </div>
      <div class="hidden md:block ml-8">
        <ul class="flex justify-around items-center space-x-4 decoration-none text-slate-500 text-[12px]">
          <li>Collections</li>
          <li>Men</li>
          <li>Women</li>
          <li>About</li>
          <li>Contact</li>
        </ul>
      </div>
    </div>
    <!--  -->
    <div class="flex justify-between items-center space-x-4">
      <img id="cartIcon" class="size-6" src="./images/icon-cart.svg" alt="Cart Icon"/>
      <img class="size-8" src="./images/image-avatar.png" alt="Avatar Icon"/>
    </div>
  </navbar>
  <!--  -->
  <section id="mainSection" class="w-full md:w-[80%] mx-auto flex flex-col md:flex-row justify-between items-start  mix-blend-darken gap-8 my-0 md:my-16">
    <div class="relative top-0 left-0 w-full md:w-[45%] over-flow-hidden">
      <img id="prevImg" class="block sm:hidden absolute w-full top-0 -left-[100%] border border-solid border-black"  />
      <img id="mainImage" class="w-full h-auto h-76 md:rounded-lg" alt="Sneaker Image"/>
      <img id="nextImg" class="block sm:hidden absolute w-full top-0 left-[100%] border border-solid border-black"  />
      <!-- carousel -->
      <div class="w-full absolute md:hidden top-1/2 -translate-y-1/2 flex justify-between items-center px-4">
        <div class="flex justify-center items-center size-8 rounded-full bg-white p-2">
          <img id="previous" class="size-2 mx-auto cursor-pointer" src="./images/icon-previous.svg" alt="Previous Icon"/>
        </div>
        <div class="flex justify-center items-center size-8 rounded-full bg-white p-2">
          <img id="next" class="size-2 mx-auto cursor-pointer" src="./images/icon-next.svg" alt="Next Icon"/>
        </div>
      </div>
      <!-- thumbnails -->
      <div class="flex justify-between items-center mt-4">
        <div class="hidden md:block w-full md:w-[20%] h-auto rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500">
          <img class="w-full h-auto rounded-lg hover:opacity-25 cursor-pointer" src="./images/image-product-1.jpg" alt="Sneaker Image"/>
        </div>
        <div class="hidden md:block w-full md:w-[20%] h-auto rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500">
          <img class="w-full h-auto rounded-lg hover:opacity-25 cursor-pointer" src="./images/image-product-2.jpg" alt="Sneaker Image"/>
        </div>
        <div class="hidden md:block w-full md:w-[20%] h-auto rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500">
          <img class="w-full h-auto rounded-lg hover:opacity-25 cursor-pointer" src="./images/image-product-3.jpg" alt="Sneaker Image"/>
        </div>
        <div class="hidden md:block w-full md:w-[20%] h-auto rounded-lg mt-4 hover:border-4 border-solid border-transparent hover:border-orange-500">
          <img class="w-full h-auto rounded-lg hover:opacity-25 cursor-pointer" src="./images/image-product-4.jpg" alt="Sneaker Image"/>
        </div>
      </div>
    </div>
    <!-- info -->
    <div class="w-full md:w-[45%] flex flex-col justify-start items-start gap-4 my-auto px-4">
      <p class="text-left text-lg text-slate-600">SNEAKERS COMPANY</p>
      <h1 class="text-[#1a1e26] text-4xl font-bold">Fall Limited Edition Sneakers</h1>
      <p class="text-slate-500 text-[16px]">
These low-profile sneakers are your perfect casual wear companion. Featuring a 
  durable rubber outer sole, theyâ€™ll withstand everything the weather can offer.
      </p>
      <div class="w-full flex flex-row md:flex-col justify-between md:items-start items-center font-[400]">
        <div class="flex justify-start items-center gap-4">
          <span class="text-[#1a1e26] text-2xl">$125.00</span>
          <span class="text-slate-50 bg-slate-900 rounded-lg py-1 px-4 text-sm">50%</span>
        </div>
        <div class="text-sm text-slate-600 line-through">$250.00</div>
      </div>
      <!--  -->
      <div class="w-full flex flex-col md:flex-row justify-start items-center gap-4">
        <div class="w-full flex flex-row md:w-[35%]">
          <span class="w-1/3 flex justify-center items-center p-3 bg-slate-200 text-orange-400 rounded-l-lg">-</span>
          <span class="w-1/3 flex justify-center items-center p-3 bg-slate-200 text-orange-400">0</span>
          <span class="w-1/3 flex justify-center items-center p-3 bg-slate-200 text-orange-400 rounded-r-lg">+</span>
        </div>
        <button class="w-full md:w-[55%] p-3 flex justify-center gap-2 items-center bg-orange-500 rounded-lg cursor-pointer font-bold">
            <img class="w-4 h-4 stroke-black" src="./images/icon-cart.svg" alt="Cart Icon"/> Add to cart
        </button>
      </div>
    </div>
  </section>
  <!-- cart -->
  <div id="cart" class="absolute top-24 sm:top-20 left-[50%] sm:left-[80%] -translate-x-[50%] xs:-translate-x-[30%] sm:-translate-x-[80%] md:-translate-x-[50%] w-[95%] sm:w-80 flex flex-col  bg-white rounded-lg shadow-lg">
    <div class="flex justify-start items-center px-4 py-8 border-b border-slate-300 font-bold">Cart</div>
    <div class="my-4">
      <div class="flex justify-between items-center p-4">
        <img class="size-12" src="./images/image-product-1-thumbnail.jpg" alt="Sneaker Thumbnail"/>
        <div class="flex flex-col justify-start items-start">
          <span class="text-slate-600 text-sm">Fall Limited Edition Sneakers</span>
          <span class="text-slate-600">$125.00 x 3 <span class="text-slate-900 font-bold">$375.00</span></span>
        </div>
        <img class="w-4 h-6 cursor-pointer" src="./images/icon-delete.svg" alt="Delete Icon"/>
      </div>
      <button class="w-[90%] mx-auto flex justify-center items-center bg-orange-500 rounded-lg p-3 my-4 font-bold cursor-pointer">Checkout</button>
    </div>
    
  </div>
    <!-- sidebar -->
     <div id="sidebar" class="hidden absolute top-0 left-0 w-1/2 h-screen fixed inset-0 bg-white shadow-lg z-50">
      <div class="flex justify-between items-center p-4 ">
        <img id="closeIcon" class="size-4 cursor-pointer" src="./images/icon-close.svg" alt="Close Icon"/>
      </div>
      <ul class="p-4 space-y-4 font-bold">
        <li>Collections</li>
        <li>Men</li>
        <li>Women</li>
        <li>About</li>
        <li>Contact</li>
     </div>

     <!-- dark overlay -->
      <div id="overlay" class="hidden absolute top-0 left-0 w-full h-full fixed inset-0 bg-black opacity-75 z-40"></div>

  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Your Name Here</a>.
  </div>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const navbar = document.getElementsByTagName('navbar')[0];
      const section = document.getElementById('mainSection');
      const cartIcon = document.getElementById('cartIcon');
      const cart = document.getElementById('cart');
      const sidebar = document.getElementById('sidebar');
      const menuIcon = document.getElementById('menuIcon');
      const closeIcon = document.getElementById('closeIcon');
      const overlay = document.getElementById('overlay');
      const mainImage = document.getElementById('mainImage');
      const prevImg = document.getElementById('prevImg');
      const nextImg = document.getElementById('nextImg');
      const prev = document.getElementById('previous');
      const next = document.getElementById('next');
      const imgsSrc = [
        './images/image-product-1.jpg',
        './images/image-product-2.jpg',
        './images/image-product-3.jpg',
        './images/image-product-4.jpg'
      ];
      const images = document.querySelectorAll('#mainSection img');

      //
      // Set initial image source
      mainImage.src = imgsSrc[0];
      
      // Toggle cart visibility
      cartIcon.addEventListener('click', () => {
        cart.classList.toggle('hidden');
      });

      // Toggle sidebar visibility
      menuIcon.addEventListener('click', () => {
        sidebar.classList.toggle('hidden');
        document.getElementsByTagName('body')[0].classList.toggle('bg-salte-600')
        overlay.classList.toggle('hidden');
        // GSAP animation for sidebar
        gsap.fromTo(sidebar, { x: '-100%' }, { x: '0', duration: 0.8, ease: 'power2.out' });
      });

      closeIcon.addEventListener('click', () => {
        sidebar.classList.add('hidden');
        document.getElementsByTagName('body')[0].classList.toggle('bg-salte-600')
        overlay.classList.add('hidden');
      });

      // Carousel using GSAP
      prev.addEventListener('click', () => {
        gsap.to(mainImage, { x: '-100%', duration: 0.5, ease: 'power2.out' });
        gsap.to(prevImg, { x: '0', duration: 0.5, ease: 'power2.out' });
        gsap.to(nextImg, { x: '200%', duration: 0.5, ease: 'power2.out' });
        prevImg.src = mainImage.src;
        // prevImg.classList.toggle('hidden');
        mainImage.src = imgsSrc[(imgsSrc.indexOf(mainImage.src) - 1 + imgsSrc.length) % imgsSrc.length];
        nextImg.src = imgsSrc[(imgsSrc.indexOf(mainImage.src) + 1) % imgsSrc.length];
      });
      next.addEventListener('click', () => {
        gsap.to(mainImage, { x: '-100%', duration: 0.5, ease: 'power2.out' });
        gsap.to(nextImg, { x: '0', duration: 0.5, ease: 'power2.out' });
        gsap.to(prevImg, { x: '-200%', duration: 0.5, ease: 'power2.out' });
        nextImg.src = mainImage.src;
        // nextImg.classList.toggle('hidden');
        mainImage.src = imgsSrc[(imgsSrc.indexOf(mainImage.src) + 1) % imgsSrc.length];
        prevImg.src = imgsSrc[(imgsSrc.indexOf(mainImage.src) - 1 + imgsSrc.length) % imgsSrc.length];
      });

      // let currentIndex = 0;
      // function updateImage() {
      //   mainImage.src = imgsSrc[currentIndex];
      //   // images.forEach((img, index) => {
      //   //   img.classList.toggle('opacity-25', index !== currentIndex);
      //   // });
      // }
      // previous.addEventListener('click', () => {
      //   currentIndex = (currentIndex - 1 + imgsSrc.length) % imgsSrc.length;
      //   updateImage();
      // });
      // next.addEventListener('click', () => {
      //   currentIndex = (currentIndex + 1) % imgsSrc.length;
      //   updateImage();
      // });
      // // Initial image load
      // updateImage();  

    });
  </script>
</body>
</html>